2024-06-27 02:43:46,438 - WARNING - Script interrupted by user.
2024-06-27 02:43:46,438 - INFO - Reverting changes...
2024-06-27 02:43:46,439 - INFO - Stopping services...
2024-06-27 02:43:46,605 - INFO - Cleaning up...
2024-06-27 02:45:38,772 - WARNING - Script interrupted by user.
2024-06-27 02:45:38,773 - INFO - Reverting changes...
2024-06-27 02:45:38,773 - INFO - Stopping services...
2024-06-27 02:45:38,876 - INFO - Cleaning up...
2024-06-27 02:46:48,309 - INFO - Updating system packages...
2024-06-27 02:47:01,157 - INFO - Installing required packages...
2024-06-27 02:47:03,271 - INFO - Writing hostapd configuration...
2024-06-27 02:47:03,307 - INFO - Configuring hostapd...
2024-06-27 02:47:08,849 - INFO - Writing dnsmasq configuration...
2024-06-27 02:47:08,850 - INFO - Configuring dhcpcd...
2024-06-27 02:47:08,851 - INFO - Enabling IP forwarding...
2024-06-27 02:47:08,871 - INFO - Configuring iptables...
2024-06-27 02:47:08,952 - INFO - Starting services...
2024-06-27 02:47:09,053 - ERROR - Unexpected error: Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 237, in main
    start_services()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 146, in start_services
    run_command("sudo systemctl start dnsmasq")
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 37, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.

2024-06-27 02:47:09,055 - INFO - Reverting changes...
2024-06-27 02:47:09,055 - INFO - Stopping services...
2024-06-27 02:47:09,157 - INFO - Cleaning up...
2024-06-27 04:08:08,571 - INFO - Updating system packages...
2024-06-27 04:08:21,423 - INFO - Installing required packages...
2024-06-27 04:08:23,541 - INFO - Writing hostapd configuration...
2024-06-27 04:08:23,576 - INFO - Configuring hostapd...
2024-06-27 04:08:29,461 - INFO - Writing dnsmasq configuration...
2024-06-27 04:08:29,462 - INFO - Configuring dhcpcd...
2024-06-27 04:08:29,462 - INFO - Enabling IP forwarding...
2024-06-27 04:08:29,482 - INFO - Configuring iptables...
2024-06-27 04:08:29,560 - INFO - Starting services...
2024-06-27 04:08:29,812 - ERROR - Unexpected error: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 36, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 236, in main
    start_services()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 148, in start_services
    run_command("sudo systemctl restart hostapd")
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 41, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.

2024-06-27 04:08:29,814 - INFO - Reverting changes...
2024-06-27 04:08:29,814 - INFO - Stopping services...
2024-06-27 04:08:30,162 - INFO - Cleaning up...
2024-06-27 04:11:01,451 - INFO - Updating system packages...
2024-06-27 04:11:08,377 - INFO - Installing required packages...
2024-06-27 04:11:10,500 - INFO - Writing hostapd configuration...
2024-06-27 04:11:10,553 - INFO - Configuring hostapd...
2024-06-27 04:11:16,051 - INFO - Writing dnsmasq configuration...
2024-06-27 04:11:16,051 - INFO - Configuring dhcpcd...
2024-06-27 04:11:16,052 - INFO - Enabling IP forwarding...
2024-06-27 04:11:16,074 - INFO - Configuring iptables...
2024-06-27 04:11:16,153 - INFO - Starting services...
2024-06-27 04:11:16,247 - ERROR - Unexpected error: Error running command 'sudo systemctl start dnsmasq': Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 36, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 238, in main
    start_services()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 148, in start_services
    run_command("sudo systemctl start dnsmasq")
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 41, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl start dnsmasq': Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.

2024-06-27 04:11:16,249 - INFO - Reverting changes...
2024-06-27 04:11:16,249 - INFO - Stopping services...
2024-06-27 04:11:16,348 - INFO - Cleaning up...
2024-06-27 04:13:21,075 - INFO - Updating system packages...
2024-06-27 04:13:27,937 - INFO - Installing required packages...
2024-06-27 04:13:30,063 - INFO - Writing hostapd configuration...
2024-06-27 04:13:30,115 - INFO - Configuring hostapd...
2024-06-27 04:13:35,681 - INFO - Writing dnsmasq configuration...
2024-06-27 04:13:35,683 - INFO - Configuring dhcpcd...
2024-06-27 04:13:35,684 - INFO - Enabling IP forwarding...
2024-06-27 04:13:35,706 - INFO - Configuring iptables...
2024-06-27 04:13:35,785 - INFO - Starting services...
2024-06-27 04:13:35,878 - ERROR - Unexpected error: Error running command 'sudo systemctl start dnsmasq': Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 36, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 246, in main
    start_services()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 156, in start_services
    run_command("sudo systemctl start dnsmasq")
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 41, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl start dnsmasq': Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.

2024-06-27 04:13:35,880 - INFO - Reverting changes...
2024-06-27 04:13:35,880 - INFO - Stopping services...
2024-06-27 04:13:35,980 - INFO - Cleaning up...
2024-06-27 04:16:16,329 - INFO - Updating system packages...
2024-06-27 04:16:23,253 - INFO - Installing required packages...
2024-06-27 04:16:25,385 - INFO - Writing hostapd configuration...
2024-06-27 04:16:25,437 - INFO - Configuring hostapd...
2024-06-27 04:16:31,240 - INFO - Writing dnsmasq configuration...
2024-06-27 04:16:31,241 - INFO - Configuring dhcpcd...
2024-06-27 04:16:31,241 - INFO - Enabling IP forwarding...
2024-06-27 04:16:31,262 - INFO - Configuring iptables...
2024-06-27 04:16:31,340 - INFO - Starting services...
2024-06-27 04:16:31,721 - ERROR - Unexpected error: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 36, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 248, in main
    start_services()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 160, in start_services
    run_command("sudo systemctl restart hostapd")
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 41, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.

2024-06-27 04:16:31,723 - INFO - Reverting changes...
2024-06-27 04:16:31,723 - INFO - Stopping services...
2024-06-27 04:16:32,082 - INFO - Cleaning up...
2024-06-27 04:26:13,543 - INFO - Updating system packages...
2024-06-27 04:26:20,538 - INFO - Installing required packages...
2024-06-27 04:26:22,659 - INFO - Writing hostapd configuration...
2024-06-27 04:26:22,711 - INFO - Configuring hostapd...
2024-06-27 04:26:28,104 - INFO - Writing dnsmasq configuration...
2024-06-27 04:26:28,106 - INFO - Configuring dhcpcd...
2024-06-27 04:26:28,107 - INFO - Enabling IP forwarding...
2024-06-27 04:26:28,128 - INFO - Configuring iptables...
2024-06-27 04:26:28,206 - INFO - Starting services...
2024-06-27 04:26:28,655 - ERROR - Unexpected error: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 36, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 248, in main
    start_services()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 160, in start_services
    run_command("sudo systemctl restart hostapd")
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 41, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.

2024-06-27 04:26:28,657 - INFO - Reverting changes...
2024-06-27 04:26:28,657 - INFO - Stopping services...
2024-06-27 04:26:29,002 - INFO - Cleaning up...
2024-06-28 00:16:16,814 - WARNING - Script interrupted by user.
2024-06-28 00:16:16,815 - INFO - Reverting changes...
2024-06-28 00:16:16,815 - INFO - Stopping services...
2024-06-28 00:16:17,260 - INFO - Cleaning up...
2024-06-28 00:16:35,011 - INFO - Updating system packages...
2024-06-28 00:16:43,531 - INFO - Installing required packages...
2024-06-28 00:16:45,696 - INFO - Writing hostapd configuration...
2024-06-28 00:16:45,756 - INFO - Configuring hostapd...
2024-06-28 00:16:50,870 - INFO - Writing dnsmasq configuration...
2024-06-28 00:16:50,874 - INFO - Configuring dhcpcd...
2024-06-28 00:16:50,875 - INFO - Enabling IP forwarding...
2024-06-28 00:16:50,896 - INFO - Configuring iptables...
2024-06-28 00:16:50,973 - INFO - Starting services...
2024-06-28 00:16:51,527 - ERROR - Unexpected error: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 36, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 248, in main
    start_services()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 160, in start_services
    run_command("sudo systemctl restart hostapd")
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 41, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.

2024-06-28 00:16:51,529 - INFO - Reverting changes...
2024-06-28 00:16:51,530 - INFO - Stopping services...
2024-06-28 00:16:51,907 - INFO - Cleaning up...
2024-06-28 00:39:22,949 - INFO - Showing status...
2024-06-28 01:17:08,188 - INFO - Showing status...
2024-06-28 01:17:23,109 - INFO - Making configuration persistent...
2024-06-28 01:18:11,262 - ERROR - Unexpected error: SSID cannot be empty.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 272, in main
    ssid = get_valid_input("Enter the SSID for your hotspot: ", validate_ssid)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 251, in get_valid_input
    if validator(user_input):
       ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 20, in validate_ssid
    raise ValueError("SSID cannot be empty.")
ValueError: SSID cannot be empty.
2024-06-28 01:18:11,266 - INFO - Reverting changes...
2024-06-28 01:18:11,266 - INFO - Stopping services...
2024-06-28 01:18:13,453 - INFO - Cleaning up...
2024-06-28 01:19:45,140 - WARNING - Script interrupted by user.
2024-06-28 01:19:45,140 - INFO - Reverting changes...
2024-06-28 01:19:45,140 - INFO - Stopping services...
2024-06-28 01:19:45,241 - INFO - Cleaning up...
2024-06-28 01:20:01,060 - ERROR - Unexpected error: Passphrase must be at least 8 characters long.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 272, in main
    passphrase = get_valid_input("Enter the passphrase for your hotspot: ", validate_passphrase)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 250, in get_valid_input
    if validator(user_input):
       ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 25, in validate_passphrase
    raise ValueError("Passphrase must be at least 8 characters long.")
ValueError: Passphrase must be at least 8 characters long.
2024-06-28 01:20:01,063 - INFO - Reverting changes...
2024-06-28 01:20:01,064 - INFO - Stopping services...
2024-06-28 01:20:01,237 - INFO - Cleaning up...
2024-06-28 01:21:09,993 - WARNING - Script interrupted by user.
2024-06-28 01:21:09,994 - INFO - Reverting changes...
2024-06-28 01:21:09,994 - INFO - Stopping services...
2024-06-28 01:21:10,158 - INFO - Cleaning up...
2024-06-28 01:21:36,691 - INFO - Updating system packages...
2024-06-28 01:21:48,675 - INFO - Installing required packages...
2024-06-28 01:21:50,779 - INFO - Writing hostapd configuration...
2024-06-28 01:21:50,830 - INFO - Configuring hostapd...
2024-06-28 01:21:56,282 - INFO - Writing dnsmasq configuration...
2024-06-28 01:21:56,285 - INFO - Configuring dhcpcd...
2024-06-28 01:21:56,286 - INFO - Enabling IP forwarding...
2024-06-28 01:21:56,304 - INFO - Configuring iptables...
2024-06-28 01:21:56,401 - INFO - Starting services...
2024-06-28 01:21:56,520 - ERROR - Unexpected error: Error running command 'sudo systemctl start dnsmasq': Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 35, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 292, in main
    start_services()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 175, in start_services
    run_command("sudo systemctl start dnsmasq")
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 40, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl start dnsmasq': Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.

2024-06-28 01:21:56,523 - INFO - Reverting changes...
2024-06-28 01:21:56,524 - INFO - Stopping services...
2024-06-28 01:21:56,643 - INFO - Cleaning up...
2024-06-28 01:36:53,668 - WARNING - Script interrupted by user.
2024-06-28 01:36:53,668 - INFO - Reverting changes...
2024-06-28 01:36:53,669 - INFO - Stopping services...
2024-06-28 01:36:53,887 - INFO - Cleaning up...
2024-06-28 01:37:25,307 - INFO - Updating system packages...
2024-06-28 01:37:32,732 - INFO - Installing required packages...
2024-06-28 01:37:34,836 - INFO - Writing hostapd configuration...
2024-06-28 01:37:34,887 - INFO - Configuring hostapd...
2024-06-28 01:37:40,343 - INFO - Writing dnsmasq configuration...
2024-06-28 01:37:40,344 - INFO - Configuring dhcpcd...
2024-06-28 01:37:40,345 - INFO - Enabling IP forwarding...
2024-06-28 01:37:40,363 - INFO - Configuring iptables...
2024-06-28 01:37:40,440 - INFO - Starting services...
2024-06-28 01:37:40,556 - ERROR - Unexpected error: Error running command 'sudo systemctl start dnsmasq': Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 35, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 292, in main
    start_services()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 175, in start_services
    run_command("sudo systemctl start dnsmasq")
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 40, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl start dnsmasq': Command 'sudo systemctl start dnsmasq' failed with error: Job for dnsmasq.service failed because the control process exited with error code.
See "systemctl status dnsmasq.service" and "journalctl -xeu dnsmasq.service" for details.

2024-06-28 01:37:40,558 - INFO - Reverting changes...
2024-06-28 01:37:40,558 - INFO - Stopping services...
2024-06-28 01:37:40,656 - INFO - Cleaning up...
2024-06-28 04:11:44,163 - WARNING - Script interrupted by user.
2024-06-28 04:11:44,163 - INFO - Reverting changes...
2024-06-28 04:11:44,163 - INFO - Stopping services...
2024-06-28 04:11:44,584 - INFO - Cleaning up...
2024-06-28 04:11:54,371 - WARNING - Script interrupted by user.
2024-06-28 04:11:54,372 - INFO - Reverting changes...
2024-06-28 04:11:54,372 - INFO - Stopping services...
2024-06-28 04:11:54,475 - INFO - Cleaning up...
2024-06-28 04:12:06,775 - INFO - Showing status...
2024-06-28 04:12:06,839 - ERROR - Unexpected error: Error running command 'sudo systemctl status hostapd': Command 'sudo systemctl status hostapd' failed with error: 
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 35, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl status hostapd' failed with error: 

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 312, in main
    show_status()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 198, in show_status
    print(run_command("sudo systemctl status hostapd"))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 40, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl status hostapd': Command 'sudo systemctl status hostapd' failed with error: 
2024-06-28 04:12:06,842 - INFO - Reverting changes...
2024-06-28 04:12:06,843 - INFO - Stopping services...
2024-06-28 04:12:06,986 - INFO - Cleaning up...
2024-06-28 04:12:12,861 - INFO - Showing status...
2024-06-28 04:12:12,896 - ERROR - Unexpected error: Error running command 'sudo systemctl status hostapd': Command 'sudo systemctl status hostapd' failed with error: 
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 35, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl status hostapd' failed with error: 

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 312, in main
    show_status()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 198, in show_status
    print(run_command("sudo systemctl status hostapd"))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 40, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl status hostapd': Command 'sudo systemctl status hostapd' failed with error: 
2024-06-28 04:12:12,899 - INFO - Reverting changes...
2024-06-28 04:12:12,899 - INFO - Stopping services...
2024-06-28 04:12:12,997 - INFO - Cleaning up...
2024-06-28 04:12:38,455 - INFO - Showing status...
2024-06-28 04:12:38,490 - ERROR - Unexpected error: Error running command 'sudo systemctl status hostapd': Command 'sudo systemctl status hostapd' failed with error: 
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 35, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl status hostapd' failed with error: 

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 312, in main
    show_status()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 198, in show_status
    print(run_command("sudo systemctl status hostapd"))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 40, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl status hostapd': Command 'sudo systemctl status hostapd' failed with error: 
2024-06-28 04:12:38,492 - INFO - Reverting changes...
2024-06-28 04:12:38,492 - INFO - Stopping services...
2024-06-28 04:12:38,594 - INFO - Cleaning up...
2024-06-28 04:12:49,658 - WARNING - Script interrupted by user.
2024-06-28 04:12:49,659 - INFO - Reverting changes...
2024-06-28 04:12:49,659 - INFO - Stopping services...
2024-06-28 04:12:49,812 - INFO - Cleaning up...
2024-06-28 04:40:38,225 - INFO - Updating system packages...
2024-06-28 04:40:45,195 - INFO - Installing required packages...
2024-06-28 04:40:47,299 - INFO - Writing hostapd configuration...
2024-06-28 04:40:47,352 - INFO - Configuring hostapd...
2024-06-28 04:40:53,164 - INFO - Writing dnsmasq configuration...
2024-06-28 04:40:53,165 - INFO - Configuring dhcpcd...
2024-06-28 04:40:53,166 - INFO - Enabling IP forwarding...
2024-06-28 04:40:53,186 - INFO - Configuring iptables...
2024-06-28 04:40:53,266 - INFO - Starting services...
2024-06-28 04:40:53,673 - ERROR - Unexpected error: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 35, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 303, in main
    start_services()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 179, in start_services
    run_command("sudo systemctl restart hostapd")
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 40, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.

2024-06-28 04:40:53,676 - INFO - Reverting changes...
2024-06-28 04:40:53,676 - INFO - Stopping services...
2024-06-28 04:40:54,033 - INFO - Cleaning up...
2024-06-28 04:43:20,888 - INFO - Reverting changes...
2024-06-28 04:43:20,889 - INFO - Stopping services...
2024-06-28 04:43:20,987 - INFO - Cleaning up...
2024-06-28 04:43:21,080 - INFO - Changes reverted successfully.
2024-06-28 04:43:33,904 - ERROR - Unexpected error: 'utf-8' codec can't decode byte 0xc5 in position 10: invalid continuation byte
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 282, in main
    ssid = get_valid_input("Enter the SSID for your hotspot: ", validate_ssid)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 251, in get_valid_input
    user_input = input(prompt).strip()
                 ^^^^^^^^^^^^^
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xc5 in position 10: invalid continuation byte
2024-06-28 04:43:33,907 - INFO - Reverting changes...
2024-06-28 04:43:33,907 - INFO - Stopping services...
2024-06-28 04:43:34,077 - INFO - Cleaning up...
2024-06-28 04:44:07,745 - INFO - Updating system packages...
2024-06-28 04:44:14,586 - INFO - Installing required packages...
2024-06-28 04:44:16,697 - INFO - Writing hostapd configuration...
2024-06-28 04:44:16,749 - INFO - Configuring hostapd...
2024-06-28 04:44:22,376 - INFO - Writing dnsmasq configuration...
2024-06-28 04:44:22,377 - INFO - Configuring dhcpcd...
2024-06-28 04:44:22,378 - INFO - Enabling IP forwarding...
2024-06-28 04:44:22,398 - INFO - Configuring iptables...
2024-06-28 04:44:22,478 - INFO - Starting services...
2024-06-28 04:44:22,885 - ERROR - Unexpected error: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 35, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 303, in main
    start_services()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 179, in start_services
    run_command("sudo systemctl restart hostapd")
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 40, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.

2024-06-28 04:44:22,888 - INFO - Reverting changes...
2024-06-28 04:44:22,888 - INFO - Stopping services...
2024-06-28 04:44:23,270 - INFO - Cleaning up...
2024-06-28 04:46:18,823 - INFO - Reverting changes...
2024-06-28 04:46:18,823 - INFO - Stopping services...
2024-06-28 04:46:18,923 - INFO - Cleaning up...
2024-06-28 04:46:19,051 - INFO - Changes reverted successfully.
2024-06-28 04:46:37,855 - INFO - Updating system packages...
2024-06-28 04:46:44,683 - INFO - Installing required packages...
2024-06-28 04:46:46,797 - INFO - Writing hostapd configuration...
2024-06-28 04:46:46,848 - INFO - Configuring hostapd...
2024-06-28 04:46:52,288 - INFO - Writing dnsmasq configuration...
2024-06-28 04:46:52,289 - INFO - Configuring dhcpcd...
2024-06-28 04:46:52,290 - INFO - Enabling IP forwarding...
2024-06-28 04:46:52,310 - INFO - Configuring iptables...
2024-06-28 04:46:52,386 - INFO - Starting services...
2024-06-28 04:46:52,863 - ERROR - Unexpected error: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 35, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 303, in main
    start_services()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 179, in start_services
    run_command("sudo systemctl restart hostapd")
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 40, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.

2024-06-28 04:46:52,865 - INFO - Reverting changes...
2024-06-28 04:46:52,865 - INFO - Stopping services...
2024-06-28 04:46:53,210 - INFO - Cleaning up...
2024-06-28 04:48:35,758 - INFO - Reverting changes...
2024-06-28 04:48:35,758 - INFO - Stopping services...
2024-06-28 04:48:35,855 - INFO - Cleaning up...
2024-06-28 04:48:35,952 - INFO - Changes reverted successfully.
2024-06-28 04:48:52,334 - INFO - Updating system packages...
2024-06-28 04:49:05,093 - INFO - Installing required packages...
2024-06-28 04:49:07,223 - INFO - Writing hostapd configuration...
2024-06-28 04:49:07,275 - INFO - Configuring hostapd...
2024-06-28 04:49:12,966 - INFO - Writing dnsmasq configuration...
2024-06-28 04:49:12,967 - INFO - Configuring dhcpcd...
2024-06-28 04:49:12,968 - INFO - Enabling IP forwarding...
2024-06-28 04:49:12,986 - INFO - Configuring iptables...
2024-06-28 04:49:13,063 - INFO - Starting services...
2024-06-28 04:49:14,759 - INFO - WiFi extender setup completed successfully.
2024-06-28 04:51:41,780 - INFO - Reverting changes...
2024-06-28 04:51:41,781 - INFO - Stopping services...
2024-06-28 04:51:44,082 - INFO - Cleaning up...
2024-06-28 04:51:44,205 - INFO - Changes reverted successfully.
2024-06-28 04:52:15,653 - INFO - Updating system packages...
2024-06-28 04:52:22,511 - INFO - Installing required packages...
2024-06-28 04:52:24,615 - INFO - Writing hostapd configuration...
2024-06-28 04:52:24,667 - INFO - Configuring hostapd...
2024-06-28 04:52:30,136 - INFO - Writing dnsmasq configuration...
2024-06-28 04:52:30,137 - INFO - Configuring dhcpcd...
2024-06-28 04:52:30,141 - INFO - Enabling IP forwarding...
2024-06-28 04:52:30,159 - INFO - Configuring iptables...
2024-06-28 04:52:30,238 - INFO - Starting services...
2024-06-28 04:52:31,889 - INFO - WiFi extender setup completed successfully.
2024-06-28 04:54:29,660 - INFO - Reverting changes...
2024-06-28 04:54:29,661 - INFO - Stopping services...
2024-06-28 04:54:31,919 - INFO - Cleaning up...
2024-06-28 04:54:32,064 - INFO - Changes reverted successfully.
2024-06-28 04:55:17,996 - INFO - Reverting changes...
2024-06-28 04:55:17,996 - INFO - Stopping services...
2024-06-28 04:55:18,155 - INFO - Cleaning up...
2024-06-28 04:55:18,249 - INFO - Changes reverted successfully.
2024-06-28 05:03:44,849 - INFO - Updating system packages...
2024-06-28 05:03:51,783 - INFO - Installing required packages...
2024-06-28 05:03:53,891 - INFO - Writing hostapd configuration...
2024-06-28 05:03:53,944 - INFO - Configuring hostapd...
2024-06-28 05:03:59,743 - INFO - Writing dnsmasq configuration...
2024-06-28 05:03:59,744 - INFO - Configuring dhcpcd...
2024-06-28 05:03:59,744 - INFO - Enabling IP forwarding...
2024-06-28 05:03:59,764 - INFO - Configuring iptables...
2024-06-28 05:03:59,842 - INFO - Starting services...
2024-06-28 05:04:01,478 - INFO - WiFi extender setup completed successfully.
2024-06-28 05:04:21,013 - INFO - Reverting changes...
2024-06-28 05:04:21,013 - INFO - Stopping services...
2024-06-28 05:04:23,279 - INFO - Cleaning up...
2024-06-28 05:04:23,408 - INFO - Changes reverted successfully.
2024-06-28 05:05:44,640 - INFO - Updating system packages...
2024-06-28 05:05:51,471 - INFO - Installing required packages...
2024-06-28 05:05:53,593 - INFO - Writing hostapd configuration...
2024-06-28 05:05:53,645 - INFO - Configuring hostapd...
2024-06-28 05:05:59,111 - INFO - Writing dnsmasq configuration...
2024-06-28 05:05:59,114 - INFO - Configuring dhcpcd...
2024-06-28 05:05:59,115 - INFO - Enabling IP forwarding...
2024-06-28 05:05:59,135 - INFO - Configuring iptables...
2024-06-28 05:05:59,221 - INFO - Starting services...
2024-06-28 05:06:00,874 - INFO - WiFi extender setup completed successfully.
2024-06-28 05:09:48,166 - INFO - Reverting changes...
2024-06-28 05:09:48,167 - INFO - Stopping services...
2024-06-28 05:09:50,284 - INFO - Cleaning up...
2024-06-28 05:09:50,440 - INFO - Changes reverted successfully.
2024-06-28 05:10:08,560 - ERROR - Unexpected error: 'utf-8' codec can't decode byte 0xc4 in position 8: invalid continuation byte
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 285, in main
    ssid = get_valid_input("Enter the SSID for your hotspot: ", validate_ssid)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 253, in get_valid_input
    user_input = input(prompt).strip()
                 ^^^^^^^^^^^^^
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xc4 in position 8: invalid continuation byte
2024-06-28 05:10:08,563 - INFO - Reverting changes...
2024-06-28 05:10:08,564 - INFO - Stopping services...
2024-06-28 05:10:08,728 - INFO - Cleaning up...
2024-06-28 05:10:33,751 - INFO - 
Updating system packages...
2024-06-28 05:10:40,673 - INFO - Installing required packages...
2024-06-28 05:10:42,794 - INFO - Writing hostapd configuration...
2024-06-28 05:10:42,846 - INFO - Configuring hostapd...
2024-06-28 05:10:48,697 - INFO - Writing dnsmasq configuration...
2024-06-28 05:10:48,698 - INFO - Configuring dhcpcd...
2024-06-28 05:10:48,700 - INFO - Enabling IP forwarding...
2024-06-28 05:10:48,721 - INFO - Configuring iptables...
2024-06-28 05:10:48,801 - INFO - Starting services...
2024-06-28 05:10:50,493 - INFO - WiFi extender setup completed successfully.
2024-06-28 05:19:53,291 - INFO - Reverting changes...
2024-06-28 05:19:53,292 - INFO - Stopping services...
2024-06-28 05:19:55,610 - INFO - Cleaning up...
2024-06-28 05:19:55,721 - INFO - Changes reverted successfully.
2024-06-28 05:20:19,179 - ERROR - Unexpected error: get_valid_input() missing 1 required positional argument: 'validator'
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 286, in main
    interface = get_valid_input("Enter the network interface for your hotspot (default is wlan0)")
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: get_valid_input() missing 1 required positional argument: 'validator'
2024-06-28 05:20:19,183 - INFO - Reverting changes...
2024-06-28 05:20:19,183 - INFO - Stopping services...
2024-06-28 05:20:19,336 - INFO - Cleaning up...
2024-06-28 05:20:42,012 - ERROR - Unexpected error: get_valid_input() missing 1 required positional argument: 'validator'
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 286, in main
    interface = get_valid_input("Enter the network interface for your hotspot (default is wlan0)")
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: get_valid_input() missing 1 required positional argument: 'validator'
2024-06-28 05:20:42,015 - INFO - Reverting changes...
2024-06-28 05:20:42,015 - INFO - Stopping services...
2024-06-28 05:20:42,186 - INFO - Cleaning up...
2024-06-28 05:22:13,115 - ERROR - Unexpected error: 'utf-8' codec can't decode byte 0xc4 in position 10: invalid continuation byte
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 284, in main
    passphrase = get_valid_input("Enter the passphrase for your hotspot: ", validate_passphrase)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 251, in get_valid_input
    user_input = input(prompt).strip()
                 ^^^^^^^^^^^^^
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xc4 in position 10: invalid continuation byte
2024-06-28 05:22:13,119 - INFO - Reverting changes...
2024-06-28 05:22:13,120 - INFO - Stopping services...
2024-06-28 05:22:13,288 - INFO - Cleaning up...
2024-06-28 05:22:31,437 - INFO - 
Updating system packages...
2024-06-28 05:22:38,508 - INFO - Installing required packages...
2024-06-28 05:22:40,641 - INFO - Writing hostapd configuration...
2024-06-28 05:22:40,784 - INFO - Configuring hostapd...
2024-06-28 05:22:46,457 - INFO - Writing dnsmasq configuration...
2024-06-28 05:22:46,459 - INFO - Configuring dhcpcd...
2024-06-28 05:22:46,460 - INFO - Enabling IP forwarding...
2024-06-28 05:22:46,479 - INFO - Configuring iptables...
2024-06-28 05:22:46,557 - INFO - Starting services...
2024-06-28 05:22:48,256 - INFO - WiFi extender setup completed successfully.
2024-06-28 05:23:22,490 - INFO - Restarting services...
2024-06-28 05:23:26,340 - INFO - Services restarted successfully.
2024-06-28 05:23:30,565 - INFO - Showing status...
2024-06-28 05:26:45,497 - INFO - Restarting services...
2024-06-28 05:26:49,316 - INFO - Services restarted successfully.
2024-06-28 05:27:54,785 - INFO - Restarting services...
2024-06-28 05:27:58,519 - INFO - Services restarted successfully.
2024-06-28 05:29:31,320 - INFO - Restarting services...
2024-06-28 05:29:35,040 - INFO - Services restarted successfully.
2024-06-28 05:41:56,485 - INFO - 
Updating system packages...
2024-06-28 05:42:03,492 - INFO - Installing required packages...
2024-06-28 05:42:05,621 - INFO - Writing hostapd configuration...
2024-06-28 05:42:05,675 - INFO - Configuring hostapd...
2024-06-28 05:42:11,556 - INFO - Writing dnsmasq configuration...
2024-06-28 05:42:11,558 - INFO - Configuring dhcpcd...
2024-06-28 05:42:11,559 - INFO - Enabling IP forwarding...
2024-06-28 05:42:11,578 - INFO - Configuring iptables...
2024-06-28 05:42:11,659 - INFO - Starting services...
2024-06-28 05:42:15,306 - INFO - WiFi extender setup completed successfully.
2024-06-28 05:43:36,548 - INFO - Reverting changes...
2024-06-28 05:43:36,548 - INFO - Stopping services...
2024-06-28 05:43:38,796 - INFO - Cleaning up...
2024-06-28 05:43:38,958 - INFO - Changes reverted successfully.
2024-06-28 05:44:14,260 - INFO - Updating system packages...
2024-06-28 05:44:21,068 - INFO - Installing required packages...
2024-06-28 05:44:23,186 - INFO - Writing hostapd configuration...
2024-06-28 05:44:23,239 - INFO - Configuring hostapd...
2024-06-28 05:44:28,926 - INFO - Writing dnsmasq configuration...
2024-06-28 05:44:28,928 - INFO - Configuring dhcpcd...
2024-06-28 05:44:28,931 - INFO - Enabling IP forwarding...
2024-06-28 05:44:28,951 - INFO - Configuring iptables...
2024-06-28 05:44:29,030 - INFO - Starting services...
2024-06-28 05:44:29,433 - ERROR - Unexpected error: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 35, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 327, in main
    start_services()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 202, in start_services
    run_command("sudo systemctl restart hostapd")
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 40, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl restart hostapd': Command 'sudo systemctl restart hostapd' failed with error: Job for hostapd.service failed because the control process exited with error code.
See "systemctl status hostapd.service" and "journalctl -xeu hostapd.service" for details.

2024-06-28 05:44:29,435 - INFO - Reverting changes...
2024-06-28 05:44:29,436 - INFO - Stopping services...
2024-06-28 05:44:29,801 - INFO - Cleaning up...
2024-06-28 05:46:34,180 - INFO - Updating system packages...
2024-06-28 05:46:47,003 - INFO - Installing required packages...
2024-06-28 05:46:49,111 - INFO - Writing hostapd configuration...
2024-06-28 05:46:49,164 - INFO - Configuring hostapd...
2024-06-28 05:46:54,812 - INFO - Writing dnsmasq configuration...
2024-06-28 05:46:54,813 - INFO - Configuring dhcpcd...
2024-06-28 05:46:54,814 - INFO - Enabling IP forwarding...
2024-06-28 05:46:54,833 - INFO - Configuring iptables...
2024-06-28 05:46:54,912 - INFO - Starting services...
2024-06-28 05:46:56,644 - INFO - WiFi extender setup completed successfully.
2024-06-28 05:48:50,946 - INFO - Reverting changes...
2024-06-28 05:48:50,947 - INFO - Stopping services...
2024-06-28 05:48:53,112 - INFO - Cleaning up...
2024-06-28 05:48:53,280 - INFO - Changes reverted successfully.
2024-06-28 05:49:28,963 - INFO - Updating system packages...
2024-06-28 05:49:35,836 - INFO - Installing required packages...
2024-06-28 05:49:37,954 - INFO - Writing hostapd configuration...
2024-06-28 05:49:38,006 - INFO - Configuring hostapd...
2024-06-28 05:49:43,768 - INFO - Writing dnsmasq configuration...
2024-06-28 05:49:43,770 - INFO - Configuring dhcpcd...
2024-06-28 05:49:43,772 - INFO - Enabling IP forwarding...
2024-06-28 05:49:43,792 - INFO - Configuring iptables...
2024-06-28 05:49:43,870 - INFO - Starting services...
2024-06-28 05:49:45,550 - INFO - WiFi extender setup completed successfully.
2024-06-28 06:06:04,405 - INFO - Reverting changes...
2024-06-28 06:06:04,406 - INFO - Stopping services...
2024-06-28 06:06:06,545 - INFO - Cleaning up...
2024-06-28 06:06:06,695 - INFO - Changes reverted successfully.
2024-06-28 06:06:52,552 - INFO - Updating system packages...
2024-06-28 06:06:59,500 - INFO - Installing required packages...
2024-06-28 06:07:01,621 - INFO - Writing hostapd configuration...
2024-06-28 06:07:02,716 - INFO - Configuring hostapd...
2024-06-28 06:07:08,473 - INFO - Writing dnsmasq configuration...
2024-06-28 06:07:08,477 - INFO - Enabling IP forwarding...
2024-06-28 06:07:08,502 - INFO - Configuring iptables...
2024-06-28 06:07:08,595 - INFO - Starting services...
2024-06-28 06:07:10,317 - INFO - WiFi extender setup completed successfully.
2024-06-28 06:15:05,146 - INFO - Restarting services...
2024-06-28 06:15:09,068 - INFO - Services restarted successfully.
2024-06-28 06:16:44,596 - INFO - Restarting services...
2024-06-28 06:16:48,554 - INFO - Services restarted successfully.
2024-06-28 06:19:34,852 - INFO - Reverting changes...
2024-06-28 06:19:34,853 - INFO - Stopping services...
2024-06-28 06:19:37,089 - INFO - Cleaning up...
2024-06-28 06:19:37,224 - INFO - Changes reverted successfully.
2024-06-28 06:19:39,857 - INFO - Showing status...
2024-06-28 06:19:39,927 - ERROR - Unexpected error: Error running command 'sudo systemctl status hostapd': Command 'sudo systemctl status hostapd' failed with error: 
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 36, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'sudo systemctl status hostapd' failed with error: 

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 348, in main
    show_status()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 233, in show_status
    print(run_command("sudo systemctl status hostapd"))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool2.py", line 41, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'sudo systemctl status hostapd': Command 'sudo systemctl status hostapd' failed with error: 
2024-06-28 06:19:39,931 - INFO - Reverting changes...
2024-06-28 06:19:39,931 - INFO - Stopping services...
2024-06-28 06:19:40,081 - INFO - Cleaning up...
2024-06-28 06:20:27,665 - INFO - Updating system packages...
2024-06-28 06:20:34,750 - INFO - Installing required packages...
2024-06-28 06:20:36,861 - INFO - Writing hostapd configuration...
2024-06-28 06:20:36,914 - INFO - Configuring hostapd...
2024-06-28 06:20:42,894 - INFO - Writing dnsmasq configuration...
2024-06-28 06:20:42,895 - INFO - Enabling IP forwarding...
2024-06-28 06:20:42,916 - INFO - Configuring iptables...
2024-06-28 06:20:42,994 - INFO - Starting services...
2024-06-28 06:20:44,672 - INFO - WiFi extender setup completed successfully.
2024-06-28 06:21:27,048 - INFO - Restarting services...
2024-06-28 06:21:30,730 - INFO - Services restarted successfully.
2024-06-28 06:25:41,880 - INFO - Reverting changes...
2024-06-28 06:25:41,880 - INFO - Stopping services...
2024-06-28 06:25:44,193 - INFO - Cleaning up...
2024-06-28 06:25:44,344 - INFO - Changes reverted successfully.
2024-06-28 06:26:34,030 - INFO - Updating system packages...
2024-06-28 06:26:41,234 - INFO - Installing required packages...
2024-06-28 06:26:43,350 - INFO - Writing hostapd configuration...
2024-06-28 06:26:43,402 - INFO - Configuring hostapd...
2024-06-28 06:26:49,042 - INFO - Writing dnsmasq configuration...
2024-06-28 06:26:49,045 - INFO - Enabling IP forwarding...
2024-06-28 06:26:49,065 - INFO - Configuring iptables...
2024-06-28 06:26:49,143 - INFO - Starting services...
2024-06-28 06:26:50,824 - INFO - WiFi extender setup completed successfully.
2024-06-28 06:27:31,286 - INFO - Restarting services...
2024-06-28 06:27:35,170 - INFO - Services restarted successfully.
2024-06-28 06:29:37,598 - INFO - Showing status...
2024-06-28 06:29:54,158 - INFO - Making configuration persistent...
2024-06-28 18:50:23,829 - INFO - Reverting changes...
2024-06-28 18:50:23,831 - INFO - Stopping services...
2024-06-28 18:50:26,087 - INFO - Cleaning up...
2024-06-28 18:50:26,197 - INFO - Changes reverted successfully.
2024-06-28 18:51:42,840 - INFO - Updating system packages...
2024-06-28 18:51:55,007 - INFO - Installing required packages...
2024-06-28 18:51:57,046 - INFO - Writing hostapd configuration...
2024-06-28 18:51:57,097 - INFO - Configuring hostapd...
2024-06-28 18:52:02,721 - INFO - Writing dnsmasq configuration...
2024-06-28 18:52:02,722 - INFO - Enabling IP forwarding...
2024-06-28 18:52:02,743 - INFO - Configuring iptables...
2024-06-28 18:52:02,819 - INFO - Starting services...
2024-06-28 18:52:04,482 - INFO - WiFi extender setup completed successfully.
2024-06-28 18:56:17,099 - INFO - Making configuration persistent...
2024-06-28 18:56:20,667 - INFO - Showing status...
2024-06-28 18:56:23,369 - INFO - Restarting services...
2024-06-28 18:56:27,348 - INFO - Services restarted successfully.
2024-06-28 19:18:54,034 - INFO - Showing status...
2024-06-28 19:19:29,662 - INFO - Reverting changes...
2024-06-28 19:19:29,662 - INFO - Stopping services...
2024-06-28 19:19:31,965 - INFO - Cleaning up...
2024-06-28 19:19:32,112 - INFO - Changes reverted successfully.
2024-06-28 19:20:38,875 - INFO - Updating system packages...
2024-06-28 19:20:56,544 - INFO - Installing required packages...
2024-06-28 19:20:58,580 - INFO - Writing hostapd configuration...
2024-06-28 19:20:58,631 - INFO - Configuring hostapd...
2024-06-28 19:21:03,852 - INFO - Writing dnsmasq configuration...
2024-06-28 19:21:03,854 - INFO - Enabling IP forwarding...
2024-06-28 19:21:03,879 - INFO - Configuring iptables...
2024-06-28 19:21:03,967 - INFO - Starting services...
2024-06-28 19:21:05,672 - INFO - WiFi extender setup completed successfully.
2024-06-28 19:21:15,540 - INFO - Showing status...
2024-06-28 19:22:17,692 - INFO - Restarting services...
2024-06-28 19:22:21,555 - INFO - Services restarted successfully.
2024-06-30 13:12:31,187 - INFO - Restarting services...
2024-06-30 13:12:35,078 - INFO - Services restarted successfully.
2024-06-30 13:14:19,042 - INFO - Showing status...
2024-06-30 14:37:12,092 - INFO - Showing status...
2024-06-30 14:49:44,490 - INFO - Updating system packages...
2024-06-30 14:49:57,498 - INFO - Installing required packages...
2024-06-30 14:49:59,548 - INFO - Writing hostapd configuration...
2024-06-30 14:49:59,600 - INFO - Configuring hostapd...
2024-06-30 14:50:05,111 - INFO - Writing dnsmasq configuration...
2024-06-30 14:50:05,115 - INFO - Enabling IP forwarding...
2024-06-30 14:50:05,390 - INFO - Configuring iptables...
2024-06-30 14:50:05,471 - INFO - Starting services...
2024-06-30 14:50:08,990 - INFO - WiFi extender setup completed successfully.
2024-06-30 15:10:45,581 - INFO - Reverting changes...
2024-06-30 15:10:45,581 - INFO - Stopping services...
2024-06-30 15:10:47,842 - INFO - Cleaning up...
2024-06-30 15:10:47,996 - INFO - Changes reverted successfully.
2024-06-30 15:11:21,304 - INFO - Updating system packages...
2024-06-30 15:11:33,394 - INFO - Installing required packages...
2024-06-30 15:11:35,427 - INFO - Writing hostapd configuration...
2024-06-30 15:11:35,478 - INFO - Configuring hostapd...
2024-06-30 15:11:40,704 - INFO - Writing dnsmasq configuration...
2024-06-30 15:11:40,707 - INFO - Enabling IP forwarding...
2024-06-30 15:11:40,725 - INFO - Configuring iptables...
2024-06-30 15:11:40,801 - INFO - Starting services...
2024-06-30 15:11:42,445 - INFO - WiFi extender setup completed successfully.
2024-06-30 15:12:00,233 - INFO - Reverting changes...
2024-06-30 15:12:00,234 - INFO - Stopping services...
2024-06-30 15:12:02,468 - INFO - Cleaning up...
2024-06-30 15:12:02,604 - INFO - Changes reverted successfully.
2024-06-30 15:12:33,882 - INFO - Updating system packages...
2024-06-30 15:12:45,672 - INFO - Installing required packages...
2024-06-30 15:12:47,711 - INFO - Writing hostapd configuration...
2024-06-30 15:12:47,762 - INFO - Configuring hostapd...
2024-06-30 15:12:53,042 - INFO - Writing dnsmasq configuration...
2024-06-30 15:12:53,043 - INFO - Enabling IP forwarding...
2024-06-30 15:12:53,061 - INFO - Configuring iptables...
2024-06-30 15:12:53,139 - INFO - Starting services...
2024-06-30 15:12:54,823 - INFO - WiFi extender setup completed successfully.
2024-07-02 20:36:04,366 - INFO - Showing status...
2024-07-02 20:54:02,571 - INFO - Checking for required dependencies...
2024-07-02 20:55:06,462 - INFO - Checking for required dependencies...
2024-07-02 20:55:06,555 - INFO - Updating system packages...
2024-07-02 21:08:48,537 - INFO - Checking for required dependencies...
2024-07-02 21:08:48,630 - INFO - Installing required packages...
2024-07-02 21:12:30,545 - INFO - Checking for required dependencies...
2024-07-02 21:12:54,397 - INFO - Checking for required dependencies...
2024-07-02 21:15:50,007 - INFO - Showing status...
2024-07-02 21:28:28,456 - INFO - Checking for required dependencies...
2024-07-02 21:28:34,172 - INFO - Writing hostapd configuration...
2024-07-02 21:28:34,228 - INFO - Configuring hostapd...
2024-07-02 21:28:39,786 - INFO - Writing dnsmasq configuration...
2024-07-02 21:28:39,788 - ERROR - Error writing dnsmasq.conf: [Errno 13] Permission denied: '/etc/dnsmasq.conf'
2024-07-02 21:28:39,788 - ERROR - An error occurred: [Errno 13] Permission denied: '/etc/dnsmasq.conf'
2024-07-02 21:29:39,519 - INFO - Showing status...
2024-07-02 21:31:19,255 - ERROR - Unexpected error: 'utf-8' codec can't decode byte 0xc4 in position 10: invalid continuation byte
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 392, in interactive_menu
    passphrase = get_valid_input("Enter the passphrase for your hotspot: ", validate_passphrase)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 300, in get_valid_input
    user_input = input(prompt).strip()
                 ^^^^^^^^^^^^^
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xc4 in position 10: invalid continuation byte
2024-07-02 21:31:19,258 - INFO - Reverting changes...
2024-07-02 21:31:19,259 - INFO - Stopping services...
2024-07-02 21:31:21,616 - INFO - Cleaning up...
2024-07-02 21:31:35,436 - INFO - Reverting changes...
2024-07-02 21:31:35,437 - INFO - Stopping services...
2024-07-02 21:31:35,539 - INFO - Cleaning up...
2024-07-02 21:31:35,632 - INFO - Changes reverted successfully.
2024-07-02 21:32:28,583 - INFO - Updating system packages...
2024-07-02 21:32:35,554 - INFO - Installing required packages...
2024-07-02 21:32:37,582 - INFO - Writing hostapd configuration...
2024-07-02 21:32:37,633 - INFO - Configuring hostapd...
2024-07-02 21:32:43,283 - INFO - Writing dnsmasq configuration...
2024-07-02 21:32:43,286 - INFO - Enabling IP forwarding...
2024-07-02 21:32:43,392 - INFO - Configuring iptables...
2024-07-02 21:32:43,471 - INFO - Starting services...
2024-07-02 21:32:45,188 - INFO - WiFi extender setup completed successfully.
2024-07-02 21:32:52,852 - INFO - Reverting changes...
2024-07-02 21:32:52,852 - INFO - Stopping services...
2024-07-02 21:32:55,140 - INFO - Cleaning up...
2024-07-02 21:32:55,275 - INFO - Changes reverted successfully.
2024-07-02 21:33:23,982 - ERROR - Unexpected error: 'utf-8' codec can't decode byte 0xc3 in position 9: invalid continuation byte
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 395, in interactive_menu
    ip_address = get_valid_input(f"Enter the IP address for your hotspot (default is {config.get('default_ip_address', '192.168.2.1/24')}): ",
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 300, in get_valid_input
    user_input = input(prompt).strip()
                 ^^^^^^^^^^^^^
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xc3 in position 9: invalid continuation byte
2024-07-02 21:33:23,985 - INFO - Reverting changes...
2024-07-02 21:33:23,985 - INFO - Stopping services...
2024-07-02 21:33:24,160 - INFO - Cleaning up...
2024-07-02 21:34:06,068 - INFO - Updating system packages...
2024-07-02 21:34:13,026 - INFO - Installing required packages...
2024-07-02 21:34:15,048 - INFO - Writing hostapd configuration...
2024-07-02 21:34:15,100 - INFO - Configuring hostapd...
2024-07-02 21:34:20,909 - INFO - Writing dnsmasq configuration...
2024-07-02 21:34:20,912 - INFO - Enabling IP forwarding...
2024-07-02 21:34:20,931 - INFO - Configuring iptables...
2024-07-02 21:34:21,008 - INFO - Starting services...
2024-07-02 21:34:22,707 - INFO - WiFi extender setup completed successfully.
2024-07-02 21:35:24,819 - INFO - Showing status...
2024-07-02 21:35:46,531 - INFO - Making configuration persistent...
2024-07-02 22:22:33,107 - INFO - Showing status...
2024-07-03 12:34:06,382 - INFO - Showing status...
2024-07-03 13:34:25,082 - INFO - Updating system packages...
2024-07-03 13:34:35,787 - INFO - Installing required packages...
2024-07-03 13:34:37,820 - INFO - Writing hostapd configuration...
2024-07-03 13:34:37,872 - INFO - Configuring hostapd...
2024-07-03 13:34:43,322 - INFO - Writing dnsmasq configuration...
2024-07-03 13:34:43,323 - INFO - Enabling IP forwarding...
2024-07-03 13:34:43,347 - INFO - Configuring iptables...
2024-07-03 13:34:43,437 - INFO - Starting services...
2024-07-03 13:34:46,990 - INFO - WiFi extender setup completed successfully.
2024-07-03 13:36:33,445 - INFO - Making configuration persistent...
2024-07-03 22:41:48,896 - ERROR - Unexpected error: Error running command 'dpkg -s colorama | grep 'Status' | grep 'installed'': Command 'dpkg -s colorama | grep 'Status' | grep 'installed'' failed with error: dpkg-query: package 'colorama' is not installed and no information is available
Use dpkg --info (= dpkg-deb --info) to examine archive files.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 52, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'dpkg -s colorama | grep 'Status' | grep 'installed'' failed with error: dpkg-query: package 'colorama' is not installed and no information is available
Use dpkg --info (= dpkg-deb --info) to examine archive files.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 395, in interactive_menu
    check_dependencies()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 333, in check_dependencies
    result = run_command(f"dpkg -s {package} | grep 'Status' | grep 'installed'", timeout=10)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 57, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'dpkg -s colorama | grep 'Status' | grep 'installed'': Command 'dpkg -s colorama | grep 'Status' | grep 'installed'' failed with error: dpkg-query: package 'colorama' is not installed and no information is available
Use dpkg --info (= dpkg-deb --info) to examine archive files.

2024-07-03 22:41:48,898 - INFO - Reverting changes...
2024-07-03 22:41:48,898 - INFO - Stopping services...
2024-07-03 22:41:51,021 - INFO - Cleaning up...
2024-07-03 22:43:10,502 - ERROR - Unexpected error: Error running command 'dpkg -s hostapd | grep 'status' | grep 'installed'': Command 'dpkg -s hostapd | grep 'status' | grep 'installed'' failed with error: 
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 52, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'dpkg -s hostapd | grep 'status' | grep 'installed'' failed with error: 

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 395, in interactive_menu
    check_dependencies()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 333, in check_dependencies
    result = run_command(f"dpkg -s {package} | grep 'status' | grep 'installed'", timeout=10)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 57, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'dpkg -s hostapd | grep 'status' | grep 'installed'': Command 'dpkg -s hostapd | grep 'status' | grep 'installed'' failed with error: 
2024-07-03 22:43:10,505 - INFO - Reverting changes...
2024-07-03 22:43:10,505 - INFO - Stopping services...
2024-07-03 22:43:10,606 - INFO - Cleaning up...
2024-07-03 22:43:34,425 - ERROR - Unexpected error: Error running command 'dpkg -s colorama | grep 'Status' | grep 'installed'': Command 'dpkg -s colorama | grep 'Status' | grep 'installed'' failed with error: dpkg-query: package 'colorama' is not installed and no information is available
Use dpkg --info (= dpkg-deb --info) to examine archive files.
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 52, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {result.stderr}")
RuntimeError: Command 'dpkg -s colorama | grep 'Status' | grep 'installed'' failed with error: dpkg-query: package 'colorama' is not installed and no information is available
Use dpkg --info (= dpkg-deb --info) to examine archive files.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 395, in interactive_menu
    check_dependencies()
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 333, in check_dependencies
    result = run_command(f"dpkg -s {package} | grep 'Status' | grep 'installed'", timeout=10)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 57, in run_command
    raise RuntimeError(f"Error running command '{command}': {str(e)}")
RuntimeError: Error running command 'dpkg -s colorama | grep 'Status' | grep 'installed'': Command 'dpkg -s colorama | grep 'Status' | grep 'installed'' failed with error: dpkg-query: package 'colorama' is not installed and no information is available
Use dpkg --info (= dpkg-deb --info) to examine archive files.

2024-07-03 22:43:34,427 - INFO - Reverting changes...
2024-07-03 22:43:34,428 - INFO - Stopping services...
2024-07-03 22:43:34,526 - INFO - Cleaning up...
2024-07-03 23:07:25,013 - WARNING - Script interrupted by user.
2024-07-03 23:07:25,013 - INFO - Reverting changes...
2024-07-03 23:07:25,014 - INFO - Stopping services...
2024-07-03 23:07:25,175 - INFO - Cleaning up...
2024-07-03 23:08:01,874 - WARNING - Script interrupted by user.
2024-07-03 23:08:01,874 - INFO - Reverting changes...
2024-07-03 23:08:01,875 - INFO - Stopping services...
2024-07-03 23:08:01,975 - INFO - Cleaning up...
2024-07-03 23:19:38,481 - INFO - Updating system packages...
2024-07-03 23:19:46,193 - INFO - Installing required packages...
2024-07-03 23:19:48,219 - INFO - Writing hostapd configuration...
2024-07-03 23:19:48,271 - INFO - Configuring hostapd...
2024-07-03 23:19:53,840 - INFO - Writing dnsmasq configuration...
2024-07-03 23:19:53,842 - INFO - Enabling IP forwarding...
2024-07-03 23:19:53,863 - INFO - Configuring iptables...
2024-07-03 23:19:53,948 - INFO - Starting services...
2024-07-03 23:19:55,659 - INFO - WiFi extender setup completed successfully.
2024-07-03 23:39:58,521 - INFO - Showing status...
2024-07-05 02:47:32,307 - INFO - Showing status...
2024-07-05 02:48:49,771 - INFO - Showing status...
2024-07-05 02:49:43,807 - INFO - Showing status...
2024-07-05 02:50:12,702 - INFO - Showing status...
2024-07-05 02:50:34,457 - INFO - Showing status...
2024-07-05 02:50:48,538 - INFO - Showing status...
2024-07-05 02:51:08,609 - INFO - Showing status...
2024-07-05 02:51:57,153 - INFO - Showing status...
2024-07-05 02:52:37,858 - INFO - Showing status...
2024-07-05 02:53:08,561 - INFO - Showing status...
2024-07-05 02:53:35,320 - INFO - Showing status...
2024-07-05 02:54:30,461 - INFO - Showing status...
2024-07-05 02:55:03,476 - INFO - Showing status...
2024-07-05 02:55:45,450 - INFO - Showing status...
2024-07-05 02:57:05,904 - INFO - Showing status...
2024-07-05 02:57:53,975 - INFO - Showing status...
2024-07-05 03:04:53,123 - WARNING - Script interrupted by user.
2024-07-05 03:06:05,295 - WARNING - Script interrupted by user.
2024-07-05 03:06:31,006 - WARNING - Script interrupted by user.
2024-07-05 03:06:42,604 - WARNING - Script interrupted by user.
2024-07-05 03:07:03,316 - WARNING - Script interrupted by user.
2024-07-05 03:37:43,397 - INFO - Updating system packages...
2024-07-05 03:37:50,500 - INFO - Installing required packages...
2024-07-05 03:37:52,528 - INFO - Writing hostapd configuration...
2024-07-05 03:37:52,581 - INFO - Configuring hostapd...
2024-07-05 03:37:58,302 - INFO - Writing dnsmasq configuration...
2024-07-05 03:37:58,302 - ERROR - Error writing dnsmasq.conf: [Errno 13] Permission denied: '/etc/dnsmasq.conf'
2024-07-05 03:37:58,303 - ERROR - Unexpected error: [Errno 13] Permission denied: '/etc/dnsmasq.conf'
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 521, in interactive_menu
    write_dnsmasq_conf(dhcp_start, dhcp_end, netmask)
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 137, in write_dnsmasq_conf
    with open(dnsmasq_conf_path, "w") as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
PermissionError: [Errno 13] Permission denied: '/etc/dnsmasq.conf'
2024-07-05 03:37:58,305 - INFO - Reverting changes...
2024-07-05 03:37:58,305 - INFO - Stopping services...
2024-07-05 03:38:00,443 - INFO - Cleaning up...
2024-07-05 03:50:23,641 - INFO - Updating system packages...
2024-07-05 03:50:23,694 - ERROR - Command 'sudo apt-get update && sudo apt-get full-upgrade -y' failed with error: E: The update command takes no arguments

2024-07-05 03:50:23,695 - ERROR - Unexpected error: Command 'sudo apt-get update && sudo apt-get full-upgrade -y' failed with error: E: The update command takes no arguments
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 51, in run_command
    result.check_returncode()
  File "/usr/lib/python3.11/subprocess.py", line 502, in check_returncode
    raise CalledProcessError(self.returncode, self.args, self.stdout,
subprocess.CalledProcessError: Command '['sudo', 'apt-get', 'update', '&&', 'sudo', 'apt-get', 'full-upgrade', '-y']' returned non-zero exit status 100.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 546, in interactive_menu
    update_system()
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 68, in update_system
    run_command("sudo apt-get update && sudo apt-get full-upgrade -y")
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 55, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {e.stderr}")
RuntimeError: Command 'sudo apt-get update && sudo apt-get full-upgrade -y' failed with error: E: The update command takes no arguments

2024-07-05 03:50:23,702 - INFO - Reverting changes...
2024-07-05 03:50:23,703 - INFO - Stopping services...
2024-07-05 03:50:23,820 - INFO - Cleaning up...
2024-07-05 03:58:59,495 - INFO - Updating system packages...
2024-07-05 03:58:59,580 - ERROR - Command 'sudo apt-get update && sudo apt-get full-upgrade -y' failed with error: E: The update command takes no arguments

2024-07-05 03:58:59,581 - ERROR - Unexpected error: Command 'sudo apt-get update && sudo apt-get full-upgrade -y' failed with error: E: The update command takes no arguments
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 51, in run_command
    result.check_returncode()
  File "/usr/lib/python3.11/subprocess.py", line 502, in check_returncode
    raise CalledProcessError(self.returncode, self.args, self.stdout,
subprocess.CalledProcessError: Command '['sudo', 'sudo', 'apt-get', 'update', '&&', 'sudo', 'apt-get', 'full-upgrade', '-y']' returned non-zero exit status 100.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 546, in interactive_menu
    update_system()
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 68, in update_system
    run_command("sudo apt-get update && sudo apt-get full-upgrade -y")
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 55, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {e.stderr}")
RuntimeError: Command 'sudo apt-get update && sudo apt-get full-upgrade -y' failed with error: E: The update command takes no arguments

2024-07-05 03:58:59,586 - INFO - Reverting changes...
2024-07-05 03:58:59,586 - INFO - Stopping services...
2024-07-05 03:58:59,724 - INFO - Cleaning up...
2024-07-05 03:59:59,965 - WARNING - Script interrupted by user.
2024-07-05 04:00:03,022 - INFO - Reverting changes...
2024-07-05 04:00:03,023 - INFO - Stopping services...
2024-07-05 04:00:03,244 - INFO - Cleaning up...
2024-07-05 04:01:00,222 - WARNING - Script interrupted by user.
2024-07-05 04:01:55,829 - INFO - Updating system packages...
2024-07-05 04:01:55,875 - ERROR - Command 'apt-get update && sudo apt-get full-upgrade -y' failed with error: E: The update command takes no arguments

2024-07-05 04:01:55,876 - ERROR - Unexpected error: Command 'apt-get update && sudo apt-get full-upgrade -y' failed with error: E: The update command takes no arguments
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 51, in run_command
    result.check_returncode()
  File "/usr/lib/python3.11/subprocess.py", line 502, in check_returncode
    raise CalledProcessError(self.returncode, self.args, self.stdout,
subprocess.CalledProcessError: Command '['sudo', 'apt-get', 'update', '&&', 'sudo', 'apt-get', 'full-upgrade', '-y']' returned non-zero exit status 100.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 546, in interactive_menu
    update_system()
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 68, in update_system
    run_command("apt-get update && sudo apt-get full-upgrade -y")
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 55, in run_command
    raise RuntimeError(f"Command '{command}' failed with error: {e.stderr}")
RuntimeError: Command 'apt-get update && sudo apt-get full-upgrade -y' failed with error: E: The update command takes no arguments

2024-07-05 04:01:55,882 - INFO - Reverting changes...
2024-07-05 04:01:55,882 - INFO - Stopping services...
2024-07-05 04:01:56,081 - INFO - Cleaning up...
2024-07-05 04:03:44,875 - WARNING - Script interrupted by user.
2024-07-05 04:03:47,382 - INFO - Reverting changes...
2024-07-05 04:03:47,382 - INFO - Stopping services...
2024-07-05 04:03:47,596 - INFO - Cleaning up...
2024-07-05 04:04:13,357 - ERROR - Unexpected error: 'utf-8' codec can't decode byte 0xc3 in position 3: invalid continuation byte
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 537, in interactive_menu
    ip_address = get_valid_input(f"Enter the IP address for your hotspot (default is {config.get('default_ip_address', '192.168.2.1/24')}): ",
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 337, in get_valid_input
    user_input = input(prompt).strip()
                 ^^^^^^^^^^^^^
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xc3 in position 3: invalid continuation byte
2024-07-05 04:04:13,361 - INFO - Reverting changes...
2024-07-05 04:04:13,362 - INFO - Stopping services...
2024-07-05 04:04:13,568 - INFO - Cleaning up...
2024-07-05 04:04:52,287 - INFO - Updating system packages...
2024-07-05 04:04:59,293 - INFO - Installing required packages...
2024-07-05 04:05:01,324 - INFO - Writing hostapd configuration...
2024-07-05 04:05:01,380 - INFO - Configuring hostapd...
2024-07-05 04:05:07,182 - INFO - Writing dnsmasq configuration...
2024-07-05 04:05:07,203 - ERROR - Unexpected error: Failed to configure dhcpcd: [Errno 13] Permission denied: '/etc/dhcpcd.conf'
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 216, in configure_dhcpcd
    with open(dhcpcd_conf_path, "a+") as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
PermissionError: [Errno 13] Permission denied: '/etc/dhcpcd.conf'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 551, in interactive_menu
    configure_dhcpcd(interface, ip_address)
  File "/home/pi/raspberrypi_wifi_extender/./wifi_extender_tool3.py", line 226, in configure_dhcpcd
    raise RuntimeError(f"Failed to configure dhcpcd: {e}")
RuntimeError: Failed to configure dhcpcd: [Errno 13] Permission denied: '/etc/dhcpcd.conf'
2024-07-05 04:05:07,206 - INFO - Reverting changes...
2024-07-05 04:05:07,206 - INFO - Stopping services...
2024-07-05 04:05:07,351 - INFO - Cleaning up...
2024-07-05 04:11:52,208 - INFO - Updating system packages...
2024-07-05 04:11:59,160 - INFO - Installing required packages...
2024-07-05 04:12:01,199 - INFO - Writing hostapd configuration...
2024-07-05 04:12:01,253 - INFO - Configuring hostapd...
2024-07-05 04:12:06,710 - INFO - Writing dnsmasq configuration...
2024-07-05 04:12:06,729 - INFO - Enabling IP forwarding...
2024-07-05 04:12:06,761 - INFO - Configuring iptables...
2024-07-05 04:12:06,891 - INFO - Starting services...
2024-07-05 04:12:08,643 - INFO - WiFi extender setup completed successfully.
2024-07-09 15:01:14,095 - INFO - Reverting changes...
2024-07-09 15:01:14,097 - INFO - Stopping services...
2024-07-09 15:01:16,473 - INFO - Cleaning up...
2024-07-09 15:03:31,745 - INFO - Updating system packages...
2024-07-09 15:03:46,129 - INFO - Installing required packages...
2024-07-09 15:03:48,213 - INFO - Writing hostapd configuration...
2024-07-09 15:03:48,267 - INFO - Configuring hostapd...
2024-07-09 15:03:53,487 - INFO - Writing dnsmasq configuration...
2024-07-09 15:03:53,507 - INFO - Enabling IP forwarding...
2024-07-09 15:03:53,546 - INFO - Configuring iptables...
2024-07-09 15:03:53,689 - INFO - Starting services...
2024-07-09 15:03:55,405 - INFO - WiFi extender setup completed successfully.
2024-07-09 18:22:13,520 - INFO - Showing status...
2024-07-09 18:23:00,152 - INFO - Making configuration persistent...
2024-07-10 03:29:09,700 - ERROR - Unexpected error: 'utf-8' codec can't decode byte 0xc3 in position 3: invalid continuation byte
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 545, in interactive_menu
    netmask = get_valid_input(f"Enter the DHCP netmask (default is {config.get('default_netmask', '255.255.255.0')}): ",
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 337, in get_valid_input
    user_input = input(prompt).strip()
                 ^^^^^^^^^^^^^
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xc3 in position 3: invalid continuation byte
2024-07-10 03:29:09,704 - INFO - Reverting changes...
2024-07-10 03:29:09,704 - INFO - Stopping services...
2024-07-10 03:29:12,109 - INFO - Cleaning up...
2024-07-10 03:30:00,084 - INFO - Updating system packages...
2024-07-10 03:30:07,146 - INFO - Installing required packages...
2024-07-10 03:30:09,193 - INFO - Writing hostapd configuration...
2024-07-10 03:30:09,245 - INFO - Configuring hostapd...
2024-07-10 03:30:14,999 - INFO - Writing dnsmasq configuration...
2024-07-10 03:30:15,019 - INFO - Enabling IP forwarding...
2024-07-10 03:30:15,050 - INFO - Configuring iptables...
2024-07-10 03:30:15,184 - INFO - Starting services...
2024-07-10 03:30:16,954 - INFO - WiFi extender setup completed successfully.
2024-07-10 03:32:09,732 - ERROR - Unexpected error: 'utf-8' codec can't decode bytes in position 11-12: unexpected end of data
Traceback (most recent call last):
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 534, in interactive_menu
    passphrase = get_valid_input("Enter the passphrase for your hotspot: ", validate_passphrase)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/raspberrypi_wifi_extender/wifi_extender_tool3.py", line 337, in get_valid_input
    user_input = input(prompt).strip()
                 ^^^^^^^^^^^^^
UnicodeDecodeError: 'utf-8' codec can't decode bytes in position 11-12: unexpected end of data
2024-07-10 03:32:09,735 - INFO - Reverting changes...
2024-07-10 03:32:09,736 - INFO - Stopping services...
2024-07-10 03:32:12,011 - INFO - Cleaning up...
2024-07-10 03:32:56,523 - INFO - Updating system packages...
2024-07-10 03:33:03,547 - INFO - Installing required packages...
2024-07-10 03:33:05,626 - INFO - Writing hostapd configuration...
2024-07-10 03:33:06,196 - INFO - Configuring hostapd...
2024-07-10 03:33:12,036 - INFO - Writing dnsmasq configuration...
2024-07-10 03:33:12,057 - INFO - Enabling IP forwarding...
2024-07-10 03:33:12,088 - INFO - Configuring iptables...
2024-07-10 03:33:12,220 - INFO - Starting services...
2024-07-10 03:33:13,954 - INFO - WiFi extender setup completed successfully.
2024-07-10 03:34:40,753 - INFO - Showing status...
2024-07-10 03:35:14,166 - INFO - Restarting services...
2024-07-10 03:35:18,150 - INFO - Services restarted successfully.
2024-07-10 03:35:20,713 - INFO - Making configuration persistent...
